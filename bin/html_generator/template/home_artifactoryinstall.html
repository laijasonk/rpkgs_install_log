
            <h1>Artifactory Install</h1>

            <h2>Description</h2>

            <p>"Install and IV" is a series of BASH scripts that can be used to install R packages onto any system with R and verify the results of the installation commands in a multi-page HTML log. This HTLM log describes the "Artifactory Install" version of the scripts, which aims to accomplish the following tasks:</p>

            <div class="log" style="height: auto; padding: 0.5em">
                <ul style="line-height: 175%;">
                    <li><strong>Specify</strong> which artifactory R packages should be installed</li>
                    <li><strong>Download</strong> specified R packages
                        <ul style="font-size: smaller;">
                            <li>Source type can be URLs to bundled build archives (tar.gz)</li>
                            <li>Source type can be flie paths to bundled build archives (tar.gz)</li>
                        </ul>
                    </li>
                    <li><strong>Review</strong> and <strong>install</strong> every specified package build
                        <ul style="font-size: smaller;">
                            <li>Review: display results of previously run checks on source packages</li>
                            <li>Install: installs the packages to the target rlibs directory</li>
                        </ul>
                    </li>
                    <li><strong>Test</strong> every installed package with unit testing (requires testthat)</li>
                    <li><strong>Verify</strong> the results and status in an automatically-generated HTML log</li>
                </ul>
            </div>

            <p class="space-below">These scripts currently only support GNU/Linux systems with GNU coreutils installed. Depending on the package input specifications, other system tools that may need to be available are "wget" and "git". The "testthat" R library has to be installed if unit testing is turned on when running the scripts.</p>

            <h2>Example</h2>

            <p>To run the artifactory install pipeline for downloading, reviewing, installing, and testing all packages, use the provided "artifactory_install.sh" script. This script takes a previously generated CSV file containing the artifactory specifications/instructions and installs it into a target rlibs directory. With the exception of the input CSV, all option flags are optional.</p>

            <p>A full list of the options plus descriptions are shown when running "artifactory_install.sh" with the "-h" flag. The default help message is shown below.</p>
 
            <div class="log" style="height: auto;">
<pre>Usage: ./artifactory_install.sh -i artifactory.csv
       ./artifactory_install.sh -i artifactory.csv [-l /home/lib64/R/library]
       ./artifactory_install.sh -i artifactory.csv [-b /usr/bin/R] [-s /usr/bin/Rscript]
       ./artifactory_install.sh -i artifactory.csv [-t]
       ./artifactory_install.sh -i artifactory.csv [-o ./output]
Flags:
       -i artifactory csv containing build packages
       -l OPTIONAL libpaths to build on (separated by colon on GNU/Linux)
       -b OPTIONAL path to R binary
       -s OPTIONAL path to Rscript executable
       -t OPTIONAL enable and run unit tests (disabled by default)
       -o OPTIONAL target directory (default: current directory)</pre>
            </div>

            <p>Following the guideline provided in the help message above, an install from an existing artifactory can be run with the following command:</p>
            
            <div class="log" style="height: auto;">
<pre>./artifactory_install.sh \
    -i ./artifactory.csv \
    -l /usr/lib64/R/library
    -b /usr/bin/R \
    -s /usr/bin/Rscript \
    -t \
    -o ./example_test</pre>
            </div>
		
            <p>The above command will install from an existing artifactory as defined in the artifactory CSV. Options specify for the pipeline to include only the libraries in /usr/lib64/R/library, use the specified R and Rscript executables, run unit tests on all packages, and ultimately install the packages into a directory called ./example_test in the current path.</p> 

